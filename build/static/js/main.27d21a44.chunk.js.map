{"version":3,"sources":["User.js","Articles.js","Article.js","index.js"],"names":["User","login","logout","user","name","className","alt","src","avatar","description","onClick","faker","firstName","lastName","image","people","Date","now","lorem","sentence","Articles","articlePost","articles","toArticle","deletePost","article","paragraph","paragraphs","map","title","date","author","comment","like","dislike","nanoID","Article","comments","addComment","content","App","React","useState","token","setToken","flashMessage","setFlashMessage","setUser","setArticles","selectedArticle","setSelectedArticle","setComments","useEffect","localStorage","getItem","axios","get","then","res","data","type","style","maxWidth","post","setItem","console","log","articleID","Math","random","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.27d21a44.chunk.js","sourcesContent":["import React from 'react';\nimport faker from 'faker';\n\nconst User = ({ login, logout, user}) => {\n\n    \n\n    const onLogin = () => {\n        var name = faker.name.firstName() + \" \" + faker.name.lastName();\n        var avatar = faker.image.people() + \"?random=\" + Date.now();\n        var description = faker.lorem.sentence();\n        login({\n            name,\n            avatar,\n            description,\n        });\n    }\n\n    const onLogout = () => {\n        logout({\n            name: \"\",\n            avatar: \"\",\n            description: \"\",\n        });\n    }\n\n    if(user.name !== \"\") {\n        return(\n            <div className=\"mt-3\">\n                <div className=\"card\">\n                    <img alt=\"user_img\" src={user.avatar}></img>\n                    <div className=\"card-body\">\n                        <div className=\"card-title\">\n                            {user.name}\n                        </div>\n                        <div className=\"card-text\">\n                            {user.description}\n                        </div>\n                    </div>\n                    <button className=\"btn btn-primary\" onClick={onLogout} >Logout</button>\n                </div>\n            </div>\n        );\n    } else {\n        return(\n            <div className=\"container\">\n                <button className=\"btn btn-primary\" onClick={onLogin} >Login</button>\n            </div>\n        )\n    }\n}\n\nexport default User;","import React from 'react';\nimport faker from 'faker';\n\nconst Articles = ({ articlePost, user, articles, toArticle, deletePost }) => {\n    \n\n    \n\n    const addPost = () => {\n        var article = {\n            \"title\": faker.lorem.sentence(),\n            \"author\":  user.name,\n            \"description\": faker.lorem.paragraph(),\n            \"content\": faker.lorem.paragraphs(),\n            \"comment\": 0,\n            \"like\": 0,\n            \"dislike\": 0, \n        }\n        articlePost(article);\n    }\n\n    const renderArticles = () => {\n        return articles.map((article) => {\n            return(\n                <div key={article.nanoID} className=\"card\">\n                    <div className=\"card-body\">\n                        <div className=\"card-title\">\n                            Title : {article.title}\n                        </div>\n                        <div className=\"card-text\">\n                            Date : {article.date}\n                        </div>\n                        <div className=\"card-text\">\n                            Author : {article.author}\n                        </div>\n                        <div className=\"card-text\">\n                            Description : {article.description}\n                        </div>\n                        <div className=\"card-text\">\n                            Comment : {article.comment} Like : {article.like} Dislike : {article.dislike}\n                        </div>\n                        <div className=\"btn btn-success mt-3\"  onClick={()=>{toArticle(article)} } > Read </div>\n                        <div className=\"btn btn-danger mt-3\"  onClick={()=>{deletePost(article.nanoID)}} > Delete </div>\n                    </div>\n                </div>\n            );\n        })\n    }\n\n    return(\n        <div className=\"mt-3\">\n            <div className=\"mb-3\">\n                <button className=\"btn btn-primary\" onClick={addPost}>New Post</button>\n            </div>\n            <div className=\"mb-3\">\n                {renderArticles()}\n            </div>\n            \n        </div>\n    );\n}\n\nexport default Articles;","import axios from 'axios';\r\nimport React, { useEffect } from 'react';\r\n\r\nconst Article = ({ comments, article, addComment }) => {\r\n    \r\n\r\n\r\n    const renderComments = () => {\r\n        return comments.map((comment) => {\r\n            return(\r\n                <div key={comment.nanoID} className=\"card\">\r\n                    <div className=\"card-body\">\r\n                        <div className=\"card-title\">Author : {comment.author}</div>\r\n                        <div className=\"card-text\">Date: {comment.date}</div>\r\n                        {comment.like ? <div className=\"card-text\">LIKE</div> : <div className=\"card-text\">DISLIKE</div>}\r\n                        <div className=\"card-text\">Comment : {comment.comment}</div>                        \r\n                    </div>\r\n                </div>\r\n            );\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className=\"\">\r\n            <h1 className=\"mt-3 mb-3\" >Selected Article</h1>\r\n            <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                    <div className=\"card-title\">Title : {article.title}</div>\r\n                    <div className=\"card-text mt-1\">Date : {article.date}</div>\r\n                    <div className=\"card-text mt-1\">Author : {article.author}</div>\r\n                    <div className=\"card-text mt-3\">Content : {article.content}</div>\r\n                    <div className=\"card-text\"></div>\r\n                    <div className=\"btn btn-success mt-3 mb-3\" onClick={()=>{ addComment(article.nanoID) }}>Add comment</div>\r\n                    {renderComments()}\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Article;","import React, { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\nimport faker from 'faker';\n\nimport User from './User';\nimport Articles from './Articles';\nimport Article from './Article';\n\n\nconst App = () => {\n    \n    const [token, setToken] = React.useState(null);\n    const [flashMessage, setFlashMessage] = React.useState([]);\n    const [user, setUser] = React.useState({\n        name: \"\",\n        avatar: \"\",\n        description: \"\",\n    });\n    const [articles, setArticles] = React.useState([]);\n    const [selectedArticle, setSelectedArticle] = React.useState(null);\n    const [comments, setComments] = React.useState([]);\n\n    React.useEffect(() => {\n        if(localStorage.getItem('token') !== null){\n            setToken(localStorage.getItem('token'));\n        }\n    }, []);\n\n    const login = (user) => {\n        setUser(user);\n        axios.post('/api/user', { user })\n            .then(res => {\n                setToken(res.data.token);\n                localStorage.setItem('token', token);\n                setFlashMessage([res.data.flashMessage, res.data.type]);\n       \n            })\n    }\n\n    const logout = (user) => {\n        setUser(user);\n        localStorage.setItem('token', null);\n        setToken(null);\n        axios.post('/api/user?_method=delete')\n            .then(res => {\n                setFlashMessage([res.data.flashMessage, res.data.type]);\n            })\n    }\n\n    useEffect(() => {\n        axios.get('/api/article')\n            .then(res => {\n                if(res.data.type === 'success') {\n                    setArticles(res.data.articles);\n                }\n            })\n        if(selectedArticle !== null){\n            axios.get(`/api/comment/${selectedArticle.nanoID}`)\n                .then(res => {\n                    setComments(res.data.comments);\n                })\n        }\n    }, [flashMessage]);\n        \n    \n\n    const articlePost = (article) => {\n        axios.post('/api/article', { article, token })\n            .then(res => {\n                setFlashMessage([res.data.flashMessage, res.data.type]);\n            })\n    }\n\n    const toArticle = (article) => {\n        setSelectedArticle(article);\n        axios.get(`/api/comment/${article.nanoID}`)\n            .then(res => {\n                console.log(res.data.comments);\n                setComments(res.data.comments);\n            })\n    }\n\n    const deletePost = (nanoID) => {\n        axios.post('/api/article?_method=delete', { nanoID, token })\n            .then(res => {\n                setFlashMessage([res.data.flashMessage, res.data.type]);\n                setSelectedArticle(null);\n            })\n    }\n\n    const addComment = (articleID) => {\n        var sentence = faker.lorem.sentence();\n        var author = user.author;\n        var like = ( Math.random() < 0.5 );\n        var comment = { articleID, comment: sentence, author, like};\n        axios.post('/api/comment', { comment, token } )\n            .then(res => {\n                setFlashMessage([res.data.flashMessage, res.data.type]);\n            })\n    }\n\n    return(\n        <div className=\"container\" >\n            <div className=\"row\">\n                {flashMessage[0]===\"\"? null : <div className={`alert alert-${flashMessage[1]} mt-3`}>{flashMessage[0]}</div> }\n            </div>\n            <div className=\"row\">\n                <div className=\"col\" style={{maxWidth: \"400px\"}}>\n                    <User login={login} logout={logout} user={user} />\n                </div>\n                <div className=\"col\">\n                    <Articles articles={articles} user={user} articlePost={articlePost} toArticle={toArticle} deletePost={deletePost}  />\n                </div>\n                <div className=\"col\">\n                    { selectedArticle === null ? null : <Article article={selectedArticle} comments={comments} addComment={addComment} />}\n                </div>\n            </div>\n        </div>\n    );\n}\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}